# 자바스크립트의 데이터 타입

자바스크립트에는 다음과 같은 데이터 타입(데이터의 분류)들이 존재한다.

|      타입       |                        종류                        |
| :-------------: | :------------------------------------------------: |
|    원시 타입    | 숫자, 문자열, 불리언, undefined, null, Symbol(ES6) |
| 객체(참조) 타입 |               함수, 객체, 배열 등..                |

위 표와 같이 크게는 <u>원시 타입(primitive type)과 객체/참조 타입(object/reference type, 이 글에서는 객체 타입으로 부르겠다)</u>으로 나뉜다.  
원시 타입 데이터는 변수에 할당될 때, **메모리 상에 고정된 크기**로 저장되고 **해당 변수가 원시 데이터 값을 보관**하게 된다.

```javascript
var x = 100;
var y = x; // 값을 y에 복사

x = 1000;
console.log(y); // x의 값을 변경하였지만, y는 x의 데이터를 복사했기 때문에 100이 그대로 출력된다.
```

참조 타입 데이터는 **크기가 정해져 있지 않**고 변수에 할당될 때 값이 직접 해당 변수에 저장될 수 없으며, **변수에는 데이터에 대한 '참조'만 저장**된다. (참조는 데이터의 값이 아니라 단순히 데이터의 주소)

```javascript
var x = { num: 100 };
var y = x; // y에 값이 복사되는 것이 아니라, '참조'된다.

x.num = 1000;
console.log(y.count); // x와 y는 동일한 참조(동일한 객체를 가리킴)를 가지므로, 1000이 출력된다.
```

---

## 데이터 타입은 그럼 왜 필요한가?

- 값을 저장할 때 확보할 메모리 공간의 크기를 결정하기 위함
- 값을 참조할 때 한번에 읽어들일 메모리 공간의 크기를 결정하기 위함
- 읽어들일 2진수를 어떻게 해석할지 결정하기 위해

아래와 같은 데이터를 메모리에 저장한다고 가정하자.

```javascript
var foo = 100;
```

선언과 초기화 이후, 할당 부분에서 데이터의 타입에 정해진다. 값을 저장 할 때, 다음과 같은 일들이 일어날 것이다.

- 100은 숫자 타입이므로, 8바이트의 메모리 공간을 확보하여 100을 2진수로 저장함
- 역시 숫자 타입의 데이터이므로 읽어들일 때도 "8바이트"단위로 읽게 됨
- 2진수로 저장한 데이터를 숫자 형식에 맞게 읽어들임

---

## 각 원시 데이터 타입의 특징

- **숫자 타입**  
  다른 프로그래밍 언어와 다르게, 자바스크립트는 오직 **하나의** 숫자 타입만이 존재한다.  
  정수, 실수, 2/8/16진수 모두 '배정밀도 64비트 부동소수점' 형식의 2진수로 저장된다. (사실 뭔소린지 잘 모릅니다 ㅎㅎ;; ㅋㅋ;;)  
  쉽게 설명하면, 어떤 형식의 숫자이건 할당한 후에 값을 참조하면 모두 10진수로 해석된다는 것이다.

  ```javascript
  // 모두 같은 값으로 저장된다.
  var bin = 0b0100001; // 2진수
  var oct = 0o101; // 8진수
  var hex = 0x41; // 16진수

  console.log(bin); // 65
  console.log(oct); // 65
  console.log(hex); // 65
  console.log(bin === oct); // true
  console.log(oct === hex); // true

  // 정수로 표시되더라도, 사실은 실수임을 의미한다.
  console.log(1 === 1.0); // true
  console.log(4 / 2); // 2
  console.log(3 / 2); // 1.5
  ```

  숫자 타입은 추가적으로 **양/음의 무한대(Infinity/-Infinity), 숫자 아님(NaN, 대소문자 주의!)** 도 나타낼 수 있다.

  ```javascript
  console.log(10 / 0); // Infinity
  console.log(10 / -0); // -Infinity
  console.log(1 * "hey"); // NaN
  ```

- **문자열 타입**  
  문자열은 0개 이상의 16비트 유니코드 문자(UTF-16)의 집합으로, 전 세계 대부분의 문자를 표현할 수 있다.  
  자바스크립트는 문자열을 아래와 같이 표현한다.

  ```javascript
  const quot = "hello";
  const double = "world";
  const backtic = `thanks`;

  console.log(typeof quot); // string
  console.log(typeof double); // string
  console.log(typeof backtic); // string
  ```

  위와 같이 데이터를 '', "" 등으로 감싸는 이유는 키워드, 식별자 등과 구별하기 위함이다.  
  다른 프로그래밍 언어들과 다르게, 자바스크립트는 문자열을 원시 타입으로 취급한다. 이는 문자열이 '변경 불가능한 값'이라는 사실을 의미한다. (이것에 대해서는 나중에 알아보겠다.)

  - 백틱, 템플릿 리터럴  
    ES6부터 문자열을 표기하는 새로운 방식인 "템플릿 리터럴"이 등장했다. 위에서 말한 ``을 사용하는 방식이며, 여러 가지로 편리한 아래와 같은 특징들이 있다.

    - 멀티라인 문자열(개행을 그대로 인식)
    - 표현식 삽입이 편리함

    ```javascript
    // 줄바꿈, 탭 등을 그대로 인식해서 출력하는 템플릿 리터럴
    const hello = `
        hello
        world
    `;
    console.log(hello);
    //    hello
    //    world

    // 표현식을 ${}로 삽입 가능 (해당 표현식은 강제로 문자열로 변환되어 삽입됨.)
    const year = 2021;
    const hello = `Hello, ${year}!`;

    console.log(hello); // "Hello, 2021!"
    ```

- **불리언 타입**  
  우리가 아는 boolean 값이 맞다. 다음과 같이 표기하며, 대소문자에 주의해야 한다.

  ```javascript
  const foo = true;
  const bar = false;

  console.log(foo, bar); // true false
  ```

- **undefined**  
  '변수'파트에서 살펴보았듯 'undefined'는 '값이 아직 정해지지 않은'이라는 의미이다. 변수 선언 이후 값은 기본적으로 undefined 로 초기화되기 때문이다.
  ```javascript
  var foo;
  console.log(foo); // undefined
  ```
  따라서 변수에 의도적으로 "값이 없음"을 할당하고 싶다면, 혼란 방지를 위해 후술할 null을 사용하는 것을 추천한다.
- **null**  
  역시 대소문자를 구분하므로 주의해야 한다. 자바스크립트의 null은 "아 진짜 아무것도 없당께요"를 나타낼 때 사용한다. 다시말해 의도적인 공백, 변수가 이전에 참조하던 값을 더 이상 참조하지 않겠다는 의미이다.
  ```javascript
  let foo = "bar";
  foo = null;
  ```
  이는 이전 값에 대한 참조를 명시적으로 제거하는 것이며, 이후 아무도 참조하지 않는 메모리 공간은 가비지 콜렉터에 의해 수거될 것이다.  
  함수가 유효한 값을 반환할 수 없는 경우, 의도적으로 null을 반환하기도 한다.
- **Symbol 타입**  
  이후에 추가된 6번째 원시 타입이다. 다른 글에서 자세히 다루겠다.

  이외의 데이터 타입은 전부 "객체 타입"이다. (함수, 객체, 배열 등...)

---

## 동적 타입, 정적 타입

동적, 정적은 데이터의 타입을 지정하는 방법이다.  
C, Java, Go 등등.. 처럼 변수 선언 시 타입을 명시해야 하는 언어들은 "정적 타이핑 언어"라고 한다. 값을 재할당할 때도 명시된 타입을 따라야 한다.  
반면 자바스크립트는 선언이 아닌, 값의 "할당" 시점에 자동으로 데이터의 타입이 결정된다. 그러므로 얼마든지 재할당에 따라 데이터 타입이 변경될 수 있다.  
어느 쪽이 우월한 것은 아니며, 서로가 장점과 단점을 가지고 있다. 동적 타이핑의 경우 코드를 짤 때 타입으로부터 상대적으로 자유롭지만, 문법적으로 강제하지 않으므로 오류를 만들어낼 가능성이 더 높아지며, 가독성에서 문제가 있을 수 있다. 결국 생산성을 위해 문법적 강제를 완화하느냐, 속도와 정확성을 위해 자유를 포기하느냐의 문제일 뿐이다.  
결국 자바스크립트는 이렇게 생겨먹었으니, 나름대로 동적 타이핑의 문제를 해결할 방법을 찾아야 한다. 아래와 같은 것들이 있을 것이다.

- 스코프는 최대한 좁게 유지한다.
- 전역변수 사용을 최대한 자제한다.
- let보다는 const를 사용하여, 실수로라도 값을 바꾸지 않도록 한다. (변수를 제한적으로 사용할 것.)
- 변수의 식별자 이름을 명확하게 한다. 주석이 필요없을 정도로.

기억하자. 가독성이 좋은 코드가 좋은 코드다. 컴퓨터가 읽을 수 있는 코드는 누구나 짤 수 있다. 좋은 개발자는 사람이 읽을 수 있는 코드를 만드는 사람이다.
